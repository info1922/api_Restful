{"version":3,"sources":["../../../../src/api/resources/material/material.router.js"],"names":["materialRouter","express","Router","adminPolicy","passport","authenticate","session","isAdmin","userPolicy","route","post","materialController","create","get","findAll","findOne","delete","put","update"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEO,IAAMA,0CAAiBC,kBAAQC,MAAR,EAAvB;;AAEP;AACA;;AAEA,IAAMC,cAAc,CAACC,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAAD,EAAmDC,gBAAnD,CAApB;AACA,IAAMC,aAAaJ,mBAASC,YAAT,CAAsB,KAAtB,EAA6B,EAAEC,SAAS,KAAX,EAA7B,CAAnB;;AAEAN,eAAeS,KAAf,CAAqB,GAArB,EACKC,IADL,CACUP,WADV,EACuBQ,mBAAmBC,MAD1C,EAEKC,GAFL,CAESV,WAFT,EAEsBQ,mBAAmBG,OAFzC;;AAIAd,eAAeS,KAAf,CAAqB,MAArB,EACKI,GADL,CACSV,WADT,EACsBQ,mBAAmBI,OADzC,EAEKC,MAFL,CAEYb,WAFZ,EAEyBQ,mBAAmBK,MAF5C,EAGKC,GAHL,CAGSd,WAHT,EAGsBQ,mBAAmBO,MAHzC","file":"material.router.js","sourcesContent":["import express from 'express';\r\nimport passport from 'passport';\r\nimport materialController from './material.controller';\r\nimport { isAdmin } from '../../middlewares/is-admin';\r\n\r\nexport const materialRouter = express.Router();\r\n\r\n// USER_ROLE solo puede ver los registros.\r\n// ADMIN_ROLE puede eliminar, editar y registrar.\r\n\r\nconst adminPolicy = [passport.authenticate('jwt', { session: false }), isAdmin];\r\nconst userPolicy = passport.authenticate('jwt', { session: false });\r\n\r\nmaterialRouter.route('/')\r\n    .post(adminPolicy, materialController.create)\r\n    .get(adminPolicy, materialController.findAll);\r\n\r\nmaterialRouter.route('/:id')\r\n    .get(adminPolicy, materialController.findOne)\r\n    .delete(adminPolicy, materialController.delete)\r\n    .put(adminPolicy, materialController.update);"]}