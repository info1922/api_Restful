{"version":3,"sources":["../../../../src/api/resources/imagen/imagen.controller.js"],"names":["express","require","fileUpload","fs","app","use","getAll","req","res","tipo","params","idImagen","id","path","exists","existe","sendfile","status","json","ok","mensaje","errors"],"mappings":";;;;;;;;;;;;;;;;AAAA,IAAIA,UAAUC,QAAQ,SAAR,CAAd;AACA,IAAIC,aAAaD,QAAQ,oBAAR,CAAjB;AACA,IAAIE,KAAKF,QAAQ,IAAR,CAAT;AACA,IAAIG,MAAMJ,SAAV;AACAI,IAAIC,GAAJ,CAAQH,YAAR;;AAEA;kBACe;AAELI,UAFK;AAAA,6GAEEC,GAFF,EAEOC,GAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKCC,gCALD,GAKQF,IAAIG,MAAJ,CAAWD,IALnB;AAMCE,oCAND,GAMYJ,IAAIG,MAAJ,CAAWE,EANvB;AAQCC,gCARD,kBAQqBJ,IARrB,SAQ6BE,QAR7B;;;AAUHR,+BAAGW,MAAH,CAAUD,IAAV,EAAgB,kBAAU;AACtB,oCAAI,CAACE,MAAL,EAAa;AACTF;AACH;AACDL,oCAAIQ,QAAJ,CAAaH,IAAb;AACH,6BALD;;AAVG;AAAA;;AAAA;AAAA;AAAA;AAAA,6DAkBIL,IAAIS,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,IAAI,KAAN,EAAaC,SAAS,2BAAtB,EAAmDC,mBAAnD,EAArB,CAlBJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,C","file":"imagen.controller.js","sourcesContent":["var express = require('express');\r\nvar fileUpload = require('express-fileupload');\r\nvar fs = require('fs');\r\nvar app = express();\r\napp.use(fileUpload());\r\n\r\n/* jshint ignore:start */\r\nexport default {\r\n\r\n    async getAll(req, res) {\r\n\r\n        try {\r\n            let tipo = req.params.tipo;\r\n            let idImagen = req.params.id;\r\n\r\n            let path = `./uploads/${tipo}/${idImagen}`;\r\n\r\n            fs.exists(path, existe => {\r\n                if (!existe) {\r\n                    path = `./assets/no-imagen.png`;\r\n                }\r\n                res.sendfile(path);\r\n            });\r\n\r\n        } catch (error) {\r\n            return res.status(400).json({ ok: false, mensaje: 'Error al buscar la imagen', errors: error });\r\n        }\r\n\r\n    }\r\n\r\n};"]}